<!DOCTYPE html>
<html>
<head>
		<style>
			.row div {
					background-color: azure;
					height: 7px;
					width: 7px;
					margin: 2px;
					display: inline-block;
			}
			
			.row div.active {
				background-color: aquamarine;
			}
		</style>
</head>
<body>
	<div class="organism">
		<div class="row"></div>
	</div>
	<script>
		
		// generate random binary
		const binary = [true, false]
		function randomBinary() {
				return Math.floor(Math.random() * binary.length)
		}
			
		//set up divs
		for (let i = 0; i < 101; i++) {
				let div = document.createElement('div')
				document.querySelector('.row').appendChild(div)
		}
		
		//pass row in and randomise each cell
		function randomiseRow(row) {
				let rowCells = row.children
				for (let i = 0; i < rowCells.length; i++) {
					let cell = rowCells[i]
					if(randomBinary()) {
						cell.classList.add('active')
					} else {
						cell.classList.remove('active')
					}
				}
		}
		
		//grab first row
		let firstRow = document.querySelector('.row')
		randomiseRow(firstRow) 
		
		//this does too much stuff
		function duplicateRow() {
			let allRows = document.querySelectorAll('.row')
			let lastRow = allRows[allRows.length - 1]
			let rowClone = firstRow.cloneNode(true)
			randomiseRow(rowClone)
			document.querySelector('.organism').appendChild(rowClone)
		}
		
		duplicateRow()
		duplicateRow()
		
		function processRow(rowDiv) {
			let parentRowDiv = rowDiv.previousElementSibling
			for (let i = 0; i < rowDiv.children.length; i++ ) {
				let target = rowDiv.children[i]
				let prevSelf = parentRowDiv.children[i]
				let rightSibling = prevSelf.nextElementSibling // handle null
				let leftSibling = prevSelf.previousElementSibling // handle null
				
//				console.log('target: ', target)
//				console.log('prevself: ', prevSelf)
//				console.log('rightSibling: ', rightSibling)
//				console.log('leftSibling: ', leftSibling)
			}
		}
		
		let row = document.querySelectorAll('.row')[1]
		console.log(row)
		processRow(row)
		

		
			
//		//stupid shit
//		let divsArray = document.getElementById('row').children
//		console.log(divsArray.length)
//		for (let i = 0; i < divsArray; i++) {
//				setTimeout((i) => {
//						if(randomBinary()) {
//							divsArray[i].
//						}
//				}, 1000)
//		}

		
			
	</script>
</body>
</html>